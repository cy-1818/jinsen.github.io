<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width" />
  <title>人選</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body style='font-family: "Helvetica Neue", "Helvetica", "Hiragino Sans", "Hiragino Kaku Gothic ProN", "Arial", "Yu Gothic", "Meiryo", sans-serif;'>
  <h1>人選</h1>
  <div>人の名前のリストを改行区切りで入力してください</div>
  <textarea id="txt" style="width:300px;height:100px;"></textarea>
  <input type="button" onclick="js()" value="選ぶ"></button><br/>
  <input type="checkbox" id="wait">高速で実行<br/>
  <div id="result" style="font-size:2em"></div>
  <script>
   let result=document.getElementById("result");
   var people,q,wait,ans,num,times;
   function js(){
    people=document.getElementById("txt").value.split("\n");
    wait=document.getElementById("wait").checked;
    q=prompt("何人選びますか?")*1;
    ans=[];
    for(var n=0;n<q;n++){
     num=Math.floor(Math.random()*people.length);
     ans.push(people[num]);
     people.splice(num,1);
     //console.log(people);
    }
    if(wait){
     result.innerHTML=ans.join("<br/>");
    }else{
     times=0;
     result.innerHTML="";
     showid=setInterval(show,2000);
    }
   }
   function show(){
    result.innerHTML+=ans[times]+"<br/>";
    times++;
    if(times==ans.length){
     clearInterval(showid);
    }
   }
  </script>
</body>
</html>
